function checkInput(e){if(""!=e)if(e=e.toLowerCase(),FirstName=FirstName.toLowerCase(),LastName=LastName.toLowerCase(),Company=Company.toLowerCase(),ReportName=ReportName.toLowerCase(),Country=Country.toLowerCase(),city=city.toLowerCase(),webpage=webpage.toLowerCase(),order=[],2==type){-1!=e.indexOf(" "+FirstName.charAt(0)+" ")?order.push(e.indexOf(" "+FirstName.charAt(0)+" ")):0!=e.indexOf(" "+FirstName.charAt(0))?order.push(e.indexOf(" "+FirstName.charAt(0))):order.push(-1),order.push(e.indexOf(FirstName)),order.push(e.indexOf(LastName)),order.push(e.indexOf(year)),order.push(e.indexOf(ReportName)),order.push(e.indexOf(Company)),order.push(e.indexOf(selectseries)),order.push(e.indexOf(city)),order.push(e.indexOf(Country)),order.push(e.indexOf(selectpage)),console.log(order);var r=0;answer="",-1==order[0]?(answer=answer+"<p class='text-warning' >"+FirstName.charAt(0)+" - Incorrect first name inital</p>",r++):(order[0]>order[3]||order[0]<order[2])&&(answer=answer+"<p class='text-warning' >"+FirstName.charAt(0)+" - Incorrect position</p>",r++),-1!=order[1]&&(answer=answer+"<p class='text-warning' >"+FirstName+" - Should not exist in reference</p>",r++),-1==order[2]?(answer=answer+"<p class='text-warning' >"+LastName+" - Last name not found</p>",r++):0!=order[2]&&(answer=answer+"<p class='text-warning' >"+LastName+" - In wrong place</p>",r++),-1==order[3]?(answer=answer+"<p class='text-warning' >"+year+" - Not found</p>",r++):(order[3]<order[0]||order[3]>order[4]&&-1!=order[4])&&(answer=answer+"<p class='text-warning' >"+year+" - In wrong place</p>",r++),-1==order[4]?(answer=answer+"<p class='text-warning' >"+ReportName+" - Not found</p>",r++):(order[4]<order[3]||order[4]>order[5])&&(answer=answer+"<p class='text-warning' >"+ReportName+" - In wrong place</p>",r++),-1==order[5]?(answer=answer+"<p class='text-warning' >"+Company+" - Not found</p>",r++):order[5]<order[4]&&(answer=answer+"<p class='text-warning' >"+Company+" - In wrong place</p>",r++),-1==order[6]&&-1==e.indexOf("volume "+selectseries.slice(-1))&&(answer=answer+"<p class='text-warning' >"+selectseries+" - Not found</p>",r++),-1==order[7]&&(answer=answer+"<p class='text-warning' >"+city+" - Not found</p>",r++),-1==order[8]&&(answer=answer+"<p class='text-warning' >"+Country+" - Not found</p>",r++),-1==order[9]&&(answer=answer+"<p class='text-warning' >"+selectpage+" - Not found</p>",r++),r>0&&(answer="<label>Possible Issues:</label>"+answer),$("#results").append(answer)}else if(3==type){order.push(e.indexOf(LastName)),order.push(e.indexOf(FirstName)),order.push(e.indexOf(year)),order.push(e.indexOf(ReportName)),order.push(e.indexOf(Company)),order.push(e.indexOf(webpage)),console.log(order);var r=0;answer="",-1==order[0]?(answer=answer+"<p class='text-warning' >"+LastName+" - Not found</p>",r++):0!=order[0]&&(answer=answer+"<p class='text-warning' >"+LastName+" - Incorrect position</p>",r++),-1==order[1]?(answer=answer+"<p class='text-warning' >"+FirstName+" - Not found</p>",r++):(order[1]<order[0]||order[1]>order[2])&&(answer=answer+"<p class='text-warning' >"+FirstName+" - Incorrect position</p>",r++),-1==order[2]?(answer=answer+"<p class='text-warning' >"+year+" - Not found</p>",r++):(order[2]<order[1]||order[2]>order[3])&&(answer=answer+"<p class='text-warning' >"+year+" - In wrong place</p>",r++),-1==order[3]?(answer=answer+"<p class='text-warning' >"+ReportName+" - Not found</p>",r++):(order[3]<order[2]||order[3]>order[4])&&(answer=answer+"<p class='text-warning' >"+ReportName+" - In wrong place</p>",r++),-1==order[4]?(answer=answer+"<p class='text-warning' >"+Company+" - Not found</p>",r++):(order[4]<order[3]||order[4]>order[5])&&(answer=answer+"<p class='text-warning' >"+Company+" - In wrong place</p>",r++),-1==order[5]?(answer=answer+"<p class='text-warning' >"+webpage+" - Not found</p>",r++):order[5]<order[4]&&(answer=answer+"<p class='text-warning' >"+webpage+" - In wrong place</p>",r++),r>0&&(answer="<label>Possible Issues:</label>"+answer),$("#results").append(answer)}else console.error("invalid APA type");else alert("Please atleast try before checking the answer!")}function startq(){var e=$("#input3").val(),r=$.csv.toObjects(e),a=generateTable(r,type);$("#questions").empty(),$("#questions").html(a)}function generateTable(e,r){var a="";if("undefined"==typeof e[0])return null;if(e[0].constructor===Object){FirstName=e[Math.floor(Math.random()*e.length)].FirstName,LastName=e[Math.floor(Math.random()*e.length)].LastName,Company=e[Math.floor(Math.random()*e.length)].Company,ReportName=e[Math.floor(Math.random()*e.length)].ReportName,year=e[Math.floor(Math.random()*e.length)].Year;var t=["wrote a report titled","doodled a report called","threw together a paper named","wrote a document named","quickly scribbled down on scrap paper and called it","for some reason decided to name a book"],o=[". This was then published by",", which was then distributed by",". It was then published by",". Their thing was then published by",". they were asked to write it for work named",". Their componey published it. they are named"],s=["In","During the year of","Mid way through","In the period of","All months before the end of","Part way through"],n=["","","","vol 1","vol 2","vol 3"];selectseries=n[Math.floor(Math.random()*n.length)];var i=["3rd edition","4th edition","5th edition","","",""];selectedition=i[Math.floor(Math.random()*n.length)],city=e[Math.floor(Math.random()*e.length)].City,Country=e[Math.floor(Math.random()*e.length)].Country;var d=[" You used information from pages"," There was also cool quotes that you used on pages"," You used info from pages"," Very helpful page(s) for you were"," Your poject was only possible with help from pages"," You used the image(s) on p"," You used data from pag(e)"," Pictures of graphs you used came from page(s)"," You basically coppied info from pages"],l=["1-3","63-47","73-81","20-25","36-37","21","43","17-19","15-16"];selectpage=l[Math.floor(Math.random()*l.length)];var p=["You coppied information from","You got images from","You used information from","You stole info from"];webpage=e[Math.floor(Math.random()*e.length)].Webpage;var w=["In the site's footer it says powerd by","The logo in the top left of the page is a trademark of","The domain belongs to","The site is hosted by","The site was posted on bookface.com which is owned by"],c=["and appears to have been written in","it seems to have been posted on the internet in","the year which the article was thrown on the web was","the page says it was posted in"],h=[", located in",", based in",", in the area of"];(null==Country||""==Country||"undefined"==Country)&&(Country=""),2==r?(console.log("type is: "+r),a="<p class='text-primary'>"+FirstName+" "+LastName+" "+t[Math.floor(Math.random()*t.length)]+" "+ReportName+" "+selectedition+" "+selectseries+o[Math.floor(Math.random()*o.length)]+" "+Company+h[Math.floor(Math.random()*h.length)]+" "+city+AnswerCountry(Country)+" "+s[Math.floor(Math.random()*s.length)]+" "+year+"."+d[Math.floor(Math.random()*d.length)]+" "+selectpage+".",answer="<label for='answer'>Recommended Answer:</label><p id='answer' class='text-success'>"+LastName+", "+FirstName.charAt(0)+". ("+year+"). "+ReportName+" "+answerSeries(selectseries)+", "+answerEdition(selectedition)+city+AnswerCountry(Country)+": "+Company+", "+selectpage+".<p>"):3==r?(a="<p class='text-primary'>"+p[Math.floor(Math.random()*p.length)]+" "+webpage+". It was titled "+ReportName+" "+c[Math.floor(Math.random()*c.length)]+" "+year+" by "+FirstName+" "+LastName+". "+w[Math.floor(Math.random()*w.length)]+" "+Company+".",answer="<label for='answer'>Recommended Answer:</label><p id='answer' class='text-success'>"+LastName+", "+FirstName+", ("+year+"). "+ReportName+", "+Company+". Retrieved from "+webpage+"."):a="<div class='bg-danger text-white'>Error: invalid refrence type selected</div>"}return a+" You have clearly used information from this source. Refrence it in <b>APA</b>, In the space below.</p>"}function answerEdition(e){return""==e?"":"("+e+") "}function answerSeries(e){return""==e?"":e+"."}function AnswerCountry(e){return""==e?"":", "+e+","}var FirstName="",LastName="",Company="",ReportName="",year="",selectseries="",selectedition="",city="",Country="",selectpage="",type="",webpage="",pages="",issues="",answer="<div class='bg-danger text-white'>Error: Could not find answer</div>";$("#quizbody").hide(),$("#start").addClass("disabled"),$(document).ready(function(){$("#start").click(function(){type=$("#refType").val(),1==type&&(type=Math.floor(2*Math.random()+2),console.log("type changed "+type)),$(this).hasClass("disabled")?alert("Please select refrence type first"):($(this).addClass("disabled"),startq(),$("#quizbody").show(1e3))}),$("#refType").change(function(){$("#start").removeClass("disabled")}),$("#back").click(function(){""!=$("#UsrInput").val()?confirm("Warning: going back will cause any data you have entered to be lost!")&&location.reload():location.reload()}),$("#submitAns").click(function(){if($(this).hasClass("disabled"));else{var e=$("#UsrInput").val();""!=e?($(this).addClass("disabled"),$("#next-col").removeClass("hidden"),$("#results").empty(),$("#results").html(answer),checkInput(e)):alert("Please atleast try before checking the answer!")}}),$("#next").click(function(){var e="<p>No results found. Please submit an answer first.</p>";$("#next-col").addClass("hidden"),$("#UsrInput").val(""),$("#results").empty(),$("#results").html(e),startq(),$("#submitAns").removeClass("disabled")})});
